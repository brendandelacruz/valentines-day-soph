:root{
  --bg1:#ffb6d5;
  --bg2:#caa6ff;
  --bg3:#ff5b7a;
  --card:#ffffffcc;
  --ink:#2a1b2a;
  --muted:#5b3a5b;
  --yes:#ff2f85;
  --yes2:#7c3cff;
  --no:#ffffff;
  --noBorder:#3a1f3a33;
  --shadow: 0 20px 50px rgba(20,0,30,.25);
  --ring: 0 0 0 4px rgba(124,60,255,.35);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color:var(--ink);
  background:
    radial-gradient(1200px 800px at 10% 10%, #ffd1e7 0%, transparent 60%),
    radial-gradient(1200px 900px at 90% 20%, #d8c7ff 0%, transparent 60%),
    radial-gradient(900px 700px at 50% 90%, #ff8aa8 0%, transparent 55%),
    linear-gradient(135deg, var(--bg1), var(--bg2), var(--bg3));
  overflow-x:hidden;
}

.skip-link{
  position:absolute;
  left:-999px;
  top:10px;
  background:#fff;
  color:#000;
  padding:10px 12px;
  border-radius:10px;
  box-shadow: var(--shadow);
  z-index:50;
}
.skip-link:focus{
  left:10px;
  outline:none;
  box-shadow: var(--shadow), var(--ring);
}

.wrap{
  min-height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:28px 16px 80px;
  position:relative;
  z-index:2;
}

.card{
  width:min(980px, 100%);
  background:var(--card);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,.55);
  border-radius: 28px;
  box-shadow: var(--shadow);
  padding: 22px 18px 18px;
}

.header{
  display:flex;
  gap:14px;
  align-items:center;
  margin-bottom: 8px;
}
.badge{
  width:48px;
  height:48px;
  border-radius: 16px;
  background: rgba(255,255,255,.7);
  display:grid;
  place-items:center;
  font-size:24px;
  box-shadow: 0 10px 25px rgba(20,0,30,.12);
}

.title{
  margin:0;
  font-size: clamp(22px, 4.2vw, 38px);
  letter-spacing: -0.02em;
}
.subtitle{
  margin: 4px 0 0;
  color: var(--muted);
  font-size: 14.5px;
}

.stage{ padding: 12px 4px 10px; }

.characters{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  margin-top: 10px;
}

.char{
  margin:0;
  padding: 16px 14px 14px;
  border-radius: 24px;
  background: rgba(255,255,255,.65);
  border: 1px solid rgba(255,255,255,.6);
  box-shadow: 0 12px 26px rgba(20,0,30,.10);
  position:relative;
  overflow:hidden;
}

.charBubble{
  position:absolute;
  top:12px;
  left:12px;
  font-weight:700;
  font-size: 13px;
  padding: 8px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.85);
  border: 1px solid rgba(0,0,0,.06);
}

.charLabel{
  margin-top: 10px;
  text-align:center;
  font-weight: 700;
  color: rgba(40,20,40,.8);
}

/* Question area */
.questionArea{
  margin-top: 14px;
  padding: 18px 14px;
  border-radius: 22px;
  background: rgba(255,255,255,.66);
  border: 1px solid rgba(255,255,255,.55);
}

.questionText{
  margin: 0 0 10px;
  font-size: clamp(18px, 3vw, 24px);
  font-weight: 800;
  text-align:center;
}

.hint{
  margin: 0 0 10px;
  text-align:center;
  color: rgba(70,20,70,.85);
  font-weight: 650;
}

.error{
  margin: 0 0 10px;
  text-align:center;
  padding: 10px 12px;
  border-radius: 16px;
  background: rgba(255,255,255,.9);
  border: 2px dashed rgba(255,47,133,.45);
  font-weight: 800;
}

.buttons{
  display:flex;
  gap: 12px;
  justify-content:center;
  flex-wrap:wrap;
  padding-top: 6px;
}

.btn{
  border:0;
  border-radius: 16px;
  padding: 12px 18px;
  font-size: 16px;
  font-weight: 850;
  cursor:pointer;
  box-shadow: 0 14px 22px rgba(20,0,30,.12);
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
  min-width: 140px;
}

.btn:focus{
  outline:none;
  box-shadow: 0 14px 22px rgba(20,0,30,.12), var(--ring);
}

.btn:hover{ transform: translateY(-1px); }
.btn:active{ transform: translateY(0px) scale(.99); }

.btn-yes{
  color: #fff;
  background: linear-gradient(135deg, var(--yes), var(--yes2));
}

.btn-no{
  color: var(--ink);
  background: rgba(255,255,255,.92);
  border: 1px solid var(--noBorder);
}

.a11yNote{
  margin: 12px 0 0;
  text-align:center;
  color: rgba(60,30,60,.7);
  font-size: 13px;
}
kbd{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  background: rgba(255,255,255,.7);
  border: 1px solid rgba(0,0,0,.08);
  border-bottom-width: 2px;
  padding: 2px 6px;
  border-radius: 8px;
}

/* Restart button fixed bottom-right */
.restart{
  position: fixed;
  right: 14px;
  bottom: 14px;
  z-index: 60;
  border: 0;
  border-radius: 999px;
  padding: 12px 14px;
  font-weight: 900;
  cursor:pointer;
  color:#fff;
  background: linear-gradient(135deg, #ff2f85, #ff5b7a, #7c3cff);
  box-shadow: 0 16px 30px rgba(20,0,30,.24);
}
.restart:hover{ filter: brightness(1.02); }
.restart:focus{ outline:none; box-shadow: 0 16px 30px rgba(20,0,30,.24), var(--ring); }

/* Footer */
.footer{
  margin-top: 14px;
  color: rgba(40,20,40,.85);
  font-weight: 800;
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:center;
  text-align:center;
}
.footerText{ font-weight: 750; }

/* Hearts background */
.hearts{
  position: fixed;
  inset:0;
  pointer-events:none;
  z-index:1;
  overflow:hidden;
}
.heart{
  position:absolute;
  font-size: 22px;
  opacity: .65;
  filter: drop-shadow(0 8px 8px rgba(20,0,30,.15));
  animation: floatUp linear forwards;
}
@keyframes floatUp{
  from { transform: translateY(18vh) scale(.9) rotate(0deg); opacity:0; }
  10% { opacity:.65; }
  to { transform: translateY(-120vh) scale(1.35) rotate(20deg); opacity:0; }
}

/* Teddy (small) */
.teddy{
  width: 220px;
  height: 220px;
  margin: 40px auto 0;
  position:relative;
  animation: bob 1.6s ease-in-out infinite;
}
@keyframes bob{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-6px); }
}

.t-head{
  width: 150px;
  height: 130px;
  background: #b5835a;
  border-radius: 70px 70px 60px 60px;
  position:absolute;
  left: 35px;
  top: 18px;
  box-shadow: inset 0 -10px 0 rgba(0,0,0,.06);
}
.t-ear{
  width: 54px;
  height: 54px;
  background: #b5835a;
  border-radius: 50%;
  position:absolute;
  top: -18px;
  box-shadow: inset 0 -8px 0 rgba(0,0,0,.06);
}
.t-ear-l{ left: -14px; }
.t-ear-r{ right: -14px; }

.t-face{
  position:absolute;
  inset: 18px 14px 14px;
  background: #c9956b;
  border-radius: 60px;
  box-shadow: inset 0 -10px 0 rgba(0,0,0,.05);
}
.t-eye{
  width: 12px;
  height: 16px;
  background: rgba(30,10,30,.85);
  border-radius: 999px;
  position:absolute;
  top: 34px;
}
.t-eye-l{ left: 36px; }
.t-eye-r{ right: 36px; }

.t-snout{
  width: 62px;
  height: 46px;
  background: #e9c6a8;
  border-radius: 24px;
  position:absolute;
  left: 50%;
  top: 56px;
  transform: translateX(-50%);
  box-shadow: inset 0 -7px 0 rgba(0,0,0,.06);
}
.t-nose{
  width: 14px;
  height: 10px;
  background: rgba(30,10,30,.75);
  border-radius: 7px;
  margin: 10px auto 0;
}
.t-mouth{
  width: 22px;
  height: 12px;
  border: 3px solid rgba(30,10,30,.55);
  border-top: 0;
  border-left: 0;
  border-right: 0;
  border-radius: 0 0 999px 999px;
  margin: 3px auto 0;
}

.t-body{
  width: 170px;
  height: 120px;
  background: #b5835a;
  border-radius: 70px;
  position:absolute;
  left: 25px;
  top: 120px;
  box-shadow: inset 0 -12px 0 rgba(0,0,0,.06);
}
.t-arm{
  width: 52px;
  height: 70px;
  background: #b5835a;
  border-radius: 30px;
  position:absolute;
  top: 14px;
  box-shadow: inset 0 -10px 0 rgba(0,0,0,.06);
}
.t-arm-l{ left: -10px; transform: rotate(12deg); }
.t-arm-r{ right: -10px; transform: rotate(-12deg); }

.t-belly{
  width: 88px;
  height: 72px;
  background: #c9956b;
  border-radius: 40px;
  position:absolute;
  left: 50%;
  top: 28px;
  transform: translateX(-50%);
  box-shadow: inset 0 -10px 0 rgba(0,0,0,.05);
}

.t-heart{
  position:absolute;
  right: 8px;
  top: 94px;
  font-size: 26px;
  animation: pop 1.1s ease-in-out infinite;
}
@keyframes pop{
  0%,100%{ transform: scale(1); }
  50%{ transform: scale(1.18); }
}

/* Kitty */
.kitty{
  width: 220px;
  height: 220px;
  margin: 40px auto 0;
  position:relative;
  animation: bob 1.45s ease-in-out infinite;
}

.k-head{
  width: 155px;
  height: 125px;
  background: #fff;
  border-radius: 70px;
  position:absolute;
  left: 32px;
  top: 22px;
  box-shadow: inset 0 -10px 0 rgba(0,0,0,.05);
  border: 1px solid rgba(0,0,0,.06);
}
.k-ear{
  width: 46px;
  height: 46px;
  background:#fff;
  position:absolute;
  top:-12px;
  transform: rotate(45deg);
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,.06);
}
.k-ear-l{ left: 14px; }
.k-ear-r{ right: 14px; }

.k-bow{
  position:absolute;
  top: -10px;
  right: 18px;
  width: 54px;
  height: 38px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:6px;
}
.k-bow-left, .k-bow-right{
  width: 18px;
  height: 22px;
  background: #ff2f85;
  border-radius: 10px 4px 10px 4px;
  display:block;
  box-shadow: inset 0 -6px 0 rgba(0,0,0,.10);
}
.k-bow-right{ border-radius: 4px 10px 4px 10px; }
.k-bow-knot{
  width: 12px;
  height: 12px;
  background:#ff5b7a;
  border-radius: 50%;
  display:block;
  box-shadow: inset 0 -4px 0 rgba(0,0,0,.10);
}

.k-face{
  position:absolute;
  inset: 22px 16px 18px;
}
.k-eye{
  width: 12px;
  height: 12px;
  background: rgba(40,10,40,.75);
  border-radius: 50%;
  position:absolute;
  top: 42px;
}
.k-eye-l{ left: 38px; }
.k-eye-r{ right: 38px; }

.k-nose{
  width: 12px;
  height: 10px;
  background: #ff5b7a;
  border-radius: 6px;
  position:absolute;
  left: 50%;
  top: 58px;
  transform: translateX(-50%);
}

.k-whisk{
  width: 42px;
  height: 18px;
  position:absolute;
  top: 58px;
  background:
    linear-gradient(rgba(0,0,0,.18), rgba(0,0,0,.18)) 0 3px/100% 2px no-repeat,
    linear-gradient(rgba(0,0,0,.18), rgba(0,0,0,.18)) 0 10px/100% 2px no-repeat,
    linear-gradient(rgba(0,0,0,.18), rgba(0,0,0,.18)) 0 17px/100% 2px no-repeat;
  border-radius: 12px;
}
.k-whisk-l{ left: 6px; transform: rotate(6deg); }
.k-whisk-r{ right: 6px; transform: rotate(-6deg); }

.k-body{
  width: 155px;
  height: 120px;
  position:absolute;
  left: 32px;
  top: 126px;
  display:grid;
  place-items:center;
}
.k-dress{
  width: 120px;
  height: 86px;
  background: linear-gradient(135deg, #7c3cff, #ff2f85);
  border-radius: 18px 18px 24px 24px;
  box-shadow: inset 0 -12px 0 rgba(0,0,0,.10);
}
.k-sparkle{
  position:absolute;
  left: 12px;
  top: 98px;
  font-size: 22px;
  animation: pop 1.2s ease-in-out infinite;
}

/* Celebration stage */
.yayWrap{
  padding: 14px 6px 6px;
}
.yayTitle{
  margin: 8px 0 0;
  text-align:center;
  font-size: clamp(22px, 4.5vw, 42px);
  letter-spacing: -0.02em;
}
.yaySub{
  margin: 6px 0 0;
  text-align:center;
  color: rgba(60,30,60,.75);
  font-weight: 750;
}

.celebrate{
  margin: 14px auto 10px;
  padding: 14px;
  border-radius: 22px;
  background: rgba(255,255,255,.70);
  border: 1px solid rgba(255,255,255,.6);
  position:relative;
  overflow:hidden;
}

.confetti::before{
  content:"üíñ üíú ‚ù§Ô∏è üíñ üíú ‚ù§Ô∏è üíñ üíú ‚ù§Ô∏è";
  position:absolute;
  inset: 0;
  display:grid;
  place-items:center;
  font-size: 30px;
  opacity:.25;
  transform: rotate(-8deg);
  animation: drift 3.6s linear infinite;
}
@keyframes drift{
  0%{ transform: translateX(-12%) rotate(-8deg); }
  100%{ transform: translateX(12%) rotate(-8deg); }
}

.teddyBig{
  width: 300px;
  height: 300px;
  margin: 10px auto 0;
  position:relative;
  animation: dance .55s ease-in-out infinite;
}
@keyframes dance{
  0%,100%{ transform: rotate(-2deg) translateY(0); }
  50%{ transform: rotate(2deg) translateY(-6px); }
}
.tb-head{
  width: 200px;
  height: 170px;
  background:#b5835a;
  border-radius: 90px 90px 80px 80px;
  position:absolute;
  left: 50px;
  top: 26px;
  box-shadow: inset 0 -14px 0 rgba(0,0,0,.06);
}
.tb-ear{
  width: 68px;
  height: 68px;
  background:#b5835a;
  border-radius: 50%;
  position:absolute;
  top: -22px;
  box-shadow: inset 0 -10px 0 rgba(0,0,0,.06);
}
.tb-ear-l{ left: -18px; }
.tb-ear-r{ right: -18px; }

.tb-face{
  position:absolute;
  inset: 22px 18px 18px;
  background:#c9956b;
  border-radius: 80px;
  box-shadow: inset 0 -12px 0 rgba(0,0,0,.05);
}
.tb-eye{
  width: 16px;
  height: 22px;
  background: rgba(30,10,30,.85);
  border-radius: 999px;
  position:absolute;
  top: 48px;
}
.tb-eye-l{ left: 48px; }
.tb-eye-r{ right: 48px; }

.tb-snout{
  width: 86px;
  height: 62px;
  background:#e9c6a8;
  border-radius: 34px;
  position:absolute;
  left:50%;
  top: 78px;
  transform: translateX(-50%);
  box-shadow: inset 0 -10px 0 rgba(0,0,0,.06);
}
.tb-nose{
  width: 18px;
  height: 12px;
  background: rgba(30,10,30,.75);
  border-radius: 8px;
  margin: 14px auto 0;
}
.tb-mouth{
  width: 28px;
  height: 14px;
  border: 3px solid rgba(30,10,30,.55);
  border-top: 0;
  border-left: 0;
  border-right: 0;
  border-radius: 0 0 999px 999px;
  margin: 4px auto 0;
}

.tb-body{
  width: 230px;
  height: 160px;
  background:#b5835a;
  border-radius: 95px;
  position:absolute;
  left: 35px;
  top: 170px;
  box-shadow: inset 0 -16px 0 rgba(0,0,0,.06);
}
.tb-arm{
  width: 70px;
  height: 95px;
  background:#b5835a;
  border-radius: 40px;
  position:absolute;
  top: 18px;
  box-shadow: inset 0 -12px 0 rgba(0,0,0,.06);
  transform-origin: top center;
}
.tb-arm-l{ left: -8px; animation: wave .45s ease-in-out infinite; }
.tb-arm-r{ right: -8px; animation: wave .45s ease-in-out infinite reverse; }
@keyframes wave{
  0%,100%{ transform: rotate(8deg); }
  50%{ transform: rotate(-18deg); }
}
.tb-belly{
  width: 120px;
  height: 98px;
  background:#c9956b;
  border-radius: 56px;
  position:absolute;
  left: 50%;
  top: 34px;
  transform: translateX(-50%);
  box-shadow: inset 0 -12px 0 rgba(0,0,0,.05);
}
.tb-text{
  position:absolute;
  left: 50%;
  top: 0;
  transform: translate(-50%, -10px);
  font-size: 26px;
  filter: drop-shadow(0 10px 10px rgba(20,0,30,.15));
}

.yayFooter{
  display:flex;
  justify-content:center;
  padding-top: 8px;
}

/* Responsive */
@media (max-width: 780px){
  .characters{ grid-template-columns: 1fr; }
  .teddy, .kitty{ width: 200px; height: 200px; }
}
